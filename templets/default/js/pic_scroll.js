jQuery,$.fn.infiniteCarousel=function(){return this.each(function(){function i(i){var n=i<currentPage?-1:1,t=Math.abs(currentPage-i),l=singleWidth*n*visible*t;e.filter(":not(:animated)").animate({scrollLeft:"+="+l},500,function(){i>pages?(e.scrollLeft(singleWidth*visible),i=1):0==i&&(i=pages,e.scrollLeft(singleWidth*visible*pages)),currentPage=i})}var e=$("> div",this).css("overflow","hidden"),n=e.find("> ul").width(9999),t=n.find("> li"),l=t.filter(":first");singleWidth=l.outerWidth(),visible=Math.ceil(e.innerWidth()/singleWidth),currentPage=1,pages=Math.ceil(t.length/visible),t.length%visible!=0&&(n.append(function(i,e){return new Array(e+1).join('<li class="empty" />')}(0,visible-t.length%visible)),t=n.find("> li")),t.filter(":first").before(t.slice(-visible).clone().addClass("cloned")),t.filter(":last").after(t.slice(0,visible).clone().addClass("cloned")),t=n.find("> li"),e.scrollLeft(singleWidth*visible),e.after('<a href="#" class="arrow back">&lt;</a><a href="#" class="arrow forward">&gt;</a>'),$("a.back",this).click(function(){return i(currentPage-1),!1}),$("a.forward",this).click(function(){return i(currentPage+1),!1}),$(this).bind("goto",function(e,n){i(n)}),$(this).bind("next",function(){i(currentPage+1)})})},$(document).ready(function(){var i=!0;$("#imgscroll > li").length>0&&($(".infiniteCarousel").infiniteCarousel().mouseover(function(){i=!1}).mouseout(function(){i=!0}),setInterval(function(){i&&$(".infiniteCarousel").trigger("next")},5e3))});